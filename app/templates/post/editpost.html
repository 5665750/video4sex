{% extends "ibase.html" %}

{% block title %}添加文章{% endblock %}

{%block content1%}   
 <link href="/static/markdown.css" rel="stylesheet">
        <h1>文章编辑器</h1><form class="form-horizontal" role="form" action="/edit" method="post" id="commentform">     <input type="hidden" name="id" value="{{post.id}}">    <div class="form-group">         <label for="url" class="col-sm-2 control-label">标题</label>         <div class="col-sm-10">             <input type="text" class="form-control" name='title' id="title" placeholder="title" {%if post %}value="{{post.title}}"{%endif%}>         </div>     </div>     <div class="form-group">         <div class="col-sm-offset-2 col-sm-10">             <button type="submit" class="btn btn-default">提交</button>         </div>     </div> </form><div class="form-group">     <div class="col-sm-offset-2 col-sm-10">          <div class="flask-pagedown">    <textarea class="form-control" rows="50" id="flask-pagedown-body" form="commentform" name="context" class="form-control flask-pagedown-input" style="resize: none;">{%if post %}{{post.context|safe}}{%endif%}</textarea>    </div></div>    </div> {%endblock%}{%block content2%}    <div class="flask-pagedown-preview" id="flask-pagedown-body-preview"></div>    <script type="text/javascript">    f = function() {        if (typeof flask_pagedown_converter === "undefined")            flask_pagedown_converter = Markdown.getSanitizingConverter().makeHtml;        var textarea = document.getElementById("flask-pagedown-body");        var preview = document.getElementById("flask-pagedown-body-preview");        textarea.onkeyup = function() { preview.innerHTML = flask_pagedown_converter(textarea.value); }        textarea.onkeyup.call(textarea);    }    if (document.readyState === 'complete')        f();    else if (window.addEventListener)        window.addEventListener("load", f, false);    else if (window.attachEvent)        window.attachEvent("onload", f);    else        f();    </script>    {% block scripts %}    {{ super() }}    {{ pagedown.include_pagedown() }}    {% endblock %}
    <hr>
{%endblock%}